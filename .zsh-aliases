# Syntax highlighting for this file in Atom [grammar-mode]
# -*- grammar-ext: .sh -*-

alias reload="~/.zshrc"

###############################################################################
# FILE MANAGEMENT & NAVIGATION
###############################################################################

function cdl { cd "$1" && ls -a; }
alias chmod="chmod -Rv"
alias chown="chown -Rv"
alias chx="chmod a+x"
alias edit="sudo nano"
alias ls="ls -a"
alias mkdir="mkdir -p"
alias rmdir="rm -rf" # don't be stupid

###############################################################################
# HOMEBREW
###############################################################################

# dnsmasq
alias masqstart="sudo brew services start dnsmasq"
alias masqstop="sudo brew services stop dnsmasq"
alias masqrestart="sudo brew services restart dnsmasq"

# gitea on the mac mini
if [ "$(uname -n)" = "Wats0n.local" ]; then
  alias teastart="launchctl start io.gitea.web"
  alias teastop="launchctl stop io.gitea.web"
  alias tearestart="teastop && teastart"
fi

# mysql
alias mysqlstart="brew services start mysql"
alias mysqlstop="brew services stop mysql"
alias mysqlrestart="brew services restart mysql"

# nginx
alias ngstart="sudo brew services start nginx"
alias ngstop="sudo brew services stop nginx"
alias ngrestart="sudo nginx -t && sudo brew services restart nginx"

# php
alias phpstart="brew services start php"
alias phpstop="brew services stop php"
alias phprestart="brew services restart php"

# postgresql
alias pgsqlstart="brew services start postgresql"
alias pgsqlstop="brew services stop postgresql"
alias pgsqlrestart="brew services restart postgresql"

###############################################################################
# PHP/COMPOSER
###############################################################################

alias composer="noglob composer"
alias dump="composer dumpautoload --optimize"
alias project="composer create-project"
alias require="composer require"

alias a="artisan"
alias art="artisan"
alias artisan="noglob php artisan"

###############################################################################
# MISCELLANEOUS
###############################################################################

alias git="hub"
alias tower="gittower"
alias editcrontab="export VISUAL=nano; crontab -e"
alias record="asciinema rec"

_artisan_get_command_list () {
  artisan --no-ansi | sed "1,/Available commands/d" | awk '/^ +[a-z]+/ { print $1 }'
}

_artisan () {
  if [ -f artisan ]; then
    compadd `_artisan_get_command_list`
  fi
}
